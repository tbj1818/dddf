(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login"],{"030e":function(t,n,e){var i=e("24fb");n=i(!1),n.push([t.i,".page[data-v-28361c00]{width:90%;background:#fff;margin:0 auto}",""]),t.exports=n},"0d36":function(t,n,e){"use strict";e.r(n);var i=e("2187"),a=e("0e77");for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);e("e413"),e("cb86");var s,c=e("f0c5"),u=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"28361c00",null,!1,i["a"],s);n["default"]=u.exports},"0e77":function(t,n,e){"use strict";e.r(n);var i=e("d215"),a=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=a.a},2187:function(t,n,e){"use strict";var i,a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"page"},[e("v-uni-view",{staticClass:"logokw"}),e("v-uni-view",{staticClass:"end-title"},[e("v-uni-view",{class:{btna:0==t.btnnum},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.change(0)}}},[t._v("登录")]),e("v-uni-view",{class:{btna:1==t.btnnum},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.change(1)}}},[t._v("注册")])],1),e("v-uni-view",{staticClass:"end-cont",class:{dis:0==t.btnnum}},[e("v-uni-view",{staticClass:"uni-form-item uni-column"},[e("v-uni-view",{staticClass:"title"},[e("i",{staticClass:"iconfont icon-shouji"}),t._v("手机号")]),e("v-uni-input",{staticClass:"uni-input",attrs:{maxlength:"11",type:"number",placeholder:"请输入手机号"},model:{value:t.phone,callback:function(n){t.phone=n},expression:"phone"}})],1),e("v-uni-view",{staticClass:"uni-form-item uni-column"},[e("v-uni-view",{staticClass:"title"},[e("i",{staticClass:"iconfont icon-mima"}),t._v("密码")]),e("v-uni-input",{staticClass:"uni-input",attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.password,callback:function(n){t.password=n},expression:"password"}})],1),e("v-uni-button",{staticClass:"uni-buttonlogin",attrs:{type:"primary"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.getdata.apply(void 0,arguments)}}},[t._v("登录")])],1),e("v-uni-view",{staticClass:"end-cont",class:{dis:1==t.btnnum}},[e("v-uni-view",{staticClass:"uni-form-item uni-column"},[e("v-uni-view",{staticClass:"title"},[e("i",{staticClass:"iconfont icon-shouji"}),t._v("手机号")]),e("v-uni-input",{staticClass:"uni-input",attrs:{maxlength:"11",type:"number",placeholder:"请输入手机号"},model:{value:t.phone,callback:function(n){t.phone=n},expression:"phone"}})],1),e("v-uni-view",{staticClass:"uni-form-item uni-column",staticStyle:{position:"relative"}},[e("v-uni-view",{staticClass:"title"},[e("i",{staticClass:"iconfont  icon-mima"}),t._v("图片验证码")]),e("v-uni-input",{attrs:{type:"text",maxlength:"4",placeholder:"请输入图片验证码"},model:{value:t.imgCode,callback:function(n){t.imgCode=n},expression:"imgCode"}}),e("v-uni-view",{staticClass:"justify-end yzhmbtn",staticStyle:{bottom:"0"}},[e("v-uni-image",{staticStyle:{height:"65upx",width:"240upx"},attrs:{src:t.imgCodeSrc,mode:"aspectFit"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.getImgPath()}}})],1)],1),e("v-uni-view",{staticClass:"uni-form-item uni-column",staticStyle:{position:"relative"}},[e("v-uni-view",{staticClass:"title"},[e("i",{staticClass:"iconfont icon-mima"}),t._v("验证码")]),e("v-uni-input",{staticClass:"uni-input",attrs:{maxlength:"11",type:"number",placeholder:"请输入验证码"},model:{value:t.code,callback:function(n){t.code=n},expression:"code"}}),e("v-uni-button",{staticClass:"yzhmbtn",attrs:{type:"primary",disabled:t.disabled},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.sendPhone.apply(void 0,arguments)}}},[t._v(t._s(t.codeMsg))])],1),e("v-uni-view",{staticClass:"uni-form-item uni-column"},[e("v-uni-view",{staticClass:"title"},[e("i",{staticClass:"iconfont icon-mima"}),t._v("密码")]),e("v-uni-input",{staticClass:"uni-input",attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.password,callback:function(n){t.password=n},expression:"password"}})],1),e("v-uni-view",{staticClass:"uni-form-item uni-column"},[e("v-uni-view",{staticClass:"title"},[e("i",{staticClass:"iconfont icon-mima"}),t._v("确认密码")]),e("v-uni-input",{staticClass:"uni-input",attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:t.passwords,callback:function(n){t.passwords=n},expression:"passwords"}})],1),e("v-uni-view",{staticClass:"uni-form-item uni-column"},[e("v-uni-view",{staticClass:"title"},[e("i",{staticClass:"iconfont icon-yaoqingmatianchong"}),t._v("邀请码")]),e("v-uni-input",{staticClass:"uni-input",attrs:{disabled:"true",type:"text",placeholder:"请输入邀请码"},model:{value:t.yqmvalue,callback:function(n){t.yqmvalue=n},expression:"yqmvalue"}})],1),e("v-uni-button",{staticClass:"uni-buttonlogin",attrs:{type:"primary"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.getreg.apply(void 0,arguments)}}},[t._v("注册")])],1),e("v-uni-text",{staticClass:"uni-text",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.linkforget.apply(void 0,arguments)}}},[t._v("忘记密码")])],1)},o=[];e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return i}))},"25ec":function(t,n,e){e("c975"),e("d3b7"),e("4d63"),e("ac1f"),e("25f0"),e("1276");var i="http://114.116.73.182:8080",a="http://114.116.73.182:8080";function o(t,n){return t=i+t,n.token=uni.getStorageSync("token"),new Promise((function(e,i){uni.request({url:t,method:"POST",data:n,header:{"content-type":"application/x-www-form-urlencoded"},dataType:"json",success:function(t){-1==t.data.code?uni.showToast({title:t.data.message,icon:"none",duration:2e3}):-2==t.data.code?(uni.showToast({title:"请先登录",icon:"none"}),setTimeout((function(){uni.hideToast(),s("/pages/login")}),1500)):e(t)},fail:function(t){i(t)}})}))}function s(t){console.log(t),0==t.indexOf("http")?uni.navigateTo({url:"/pages/outPage/outPage?url="+t}):t.indexOf("order")>=0?uni.switchTab({url:t}):(console.log(t),uni.navigateTo({url:t}))}function c(t,n){if(null!=t&&t.length>0){var e=-1,i=t.split(" ")[0].split("-"),a=t.split(" ")[1].split(":"),o=new Date(i[0],i[1]-1,i[2],a[0],a[1],a[2]);n||(n=new Date);var s="0",c="0",u="0",l="0",r="",d=null==e||0==e?n.getTime()-o.getTime():o.getTime()-n.getTime();return d>=864e5&&(s=Math.floor(d/864e5),d-=24*s*60*60*1e3),r+=s>0?s+"天":"",d>=36e5&&(c=Math.floor(d/36e5),d-=60*c*60*1e3),r+=c>0?c+"时":"",d>=6e4&&(u=Math.floor(d/6e4),d-=60*u*1e3),r+=u>0?u+"分":"",d>=1e3&&(l=Math.floor(d/1e3),d-=1e3*l),r+=l>0?l+"秒":"",null==e||0==e?r:null!=r&&r.length>0?r:"已超时"}}function u(t,n){uni.removeTabBarBadge({index:t}),uni.setTabBarBadge({index:t,text:n})}t.exports.check={mobile:function(t){return RegExp(/^1[34578]\d{9}$/).test(t)}},t.exports={baseUrl:i,webbaseUrl:a,sendPost:o,navigateToPath:s,showTimeSale:c,setTabBarBadge:u}},"63f8":function(t,n,e){var i=e("cf72");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("4f06").default;a("37a25b70",i,!0,{sourceMap:!1,shadowMode:!1})},9151:function(t,n,e){var i=e("030e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("4f06").default;a("6ef8986a",i,!0,{sourceMap:!1,shadowMode:!1})},"91d1":function(t,n,e){"use strict";function i(t,n){if(0===arguments.length)return null;var e,i=n||"{y}-{m}-{d}";"object"===typeof t?e=t:("string"===typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"===typeof t&&10===t.toString().length&&(t*=1e3),e=new Date(t));var a={y:e.getFullYear(),m:e.getMonth()+1,d:e.getDate(),h:e.getHours(),i:e.getMinutes(),s:e.getSeconds(),a:e.getDay()},o=i.replace(/{(y|m|d|h|i|s|a)+}/g,(function(t,n){var e=a[n];return"a"===n?["日","一","二","三","四","五","六"][e]:(t.length>0&&e<10&&(e="0"+e),e||0)}));return o}function a(t,n){t=10===(""+t).length?1e3*parseInt(t):+t;var e=new Date(t),a=Date.now(),o=(a-e)/1e3;return o<30?"刚刚":o<3600?Math.ceil(o/60)+"分钟前":o<86400?Math.ceil(o/3600)+"小时前":o<172800?"1天前":n?i(t,n):e.getMonth()+1+"月"+e.getDate()+"日"+e.getHours()+"时"+e.getMinutes()+"分"}function o(t){var n=new RegExp(/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/);return n.test(t)}e("d3b7"),e("e25e"),e("4d63"),e("ac1f"),e("25f0"),e("5319"),Object.defineProperty(n,"__esModule",{value:!0}),n.parseTime=i,n.formatTime=a,n.regExpTel=o},cb86:function(t,n,e){"use strict";var i=e("63f8"),a=e.n(i);a.a},cf72:function(t,n,e){var i=e("24fb");n=i(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.example-body[data-v-28361c00]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.uni-badge-left-margin[data-v-28361c00]{margin-left:%?20?%}.title[data-v-28361c00]{height:46px;line-height:46px;font-size:16px;font-weight:700;display:-webkit-box;display:-webkit-flex;display:flex;color:#666}.yzhmbtn[data-v-28361c00]{position:absolute;right:0;line-height:30px;bottom:10px;padding:5px 10px;border-radius:25px}.uni-text[data-v-28361c00]{width:100%;text-align:center;line-height:40px;color:#007aff;display:inline-block}.uni-buttonlogin[data-v-28361c00]{margin-top:30px;font-size:16px;line-height:40px}',""]),t.exports=n},d215:function(t,n,e){"use strict";var i=e("ee27");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("91d1"),o=i(e("25ec")),s={components:{},data:function(){return{phone:"",password:"",passwords:"",imgCode:"",yqmvalue:"",btnnum:0,code:"",disabled:!1,imgCodeSrc:"",timeFlag:"",codeMsg:"发送验证码",logo:"https://t8.baidu.com/it/u=3571592872,3353494284&fm=79&app=86&size=h300&n=0&g=4n&f=jpeg"}},onLoad:function(t){this.getImgPath(),this.yqmvalue=t.code,this.yqmvalue&&(this.btnnum=1)},methods:{getImgPath:function(){var t=this;o.default.sendPost("/getCaptcha",{}).then((function(n){console.log(n),0==n.data.code&&(t.imgCodeSrc=n.data.data.image,t.timeFlag=n.data.data.time)}))},getdata:function(){if(uni.showLoading({title:"加载中"}),!(0,a.regExpTel)(this.phone))return uni.showToast({title:"请输入正确的手机号",icon:"none"}),!1;if(!this.password)return uni.showToast({title:"请输入密码",icon:"none"}),!1;var t={phone:this.phone,regFrom:50,version:"1.0.0",channel:"小米",fromId:2,logonPasswd:this.password};o.default.sendPost("/appLogin/smsLoginV1",t).then((function(t){if(console.log(t),0==t.data.code){var n={token:t.data.data.token,account:t.data.data.userAccount,photo:t.data.data.photo,inviteCode:t.data.data.inviteCode};try{uni.setStorageSync("accountInfo",n),uni.setStorageSync("inviteCode",t.data.data.inviteCode),uni.setStorageSync("token",t.data.data.token)}catch(e){}setTimeout((function(){uni.hideLoading()}),2e3),uni.switchTab({url:"/pages/index/my"})}})).catch((function(t){uni.showToast({title:"请求失败",icon:"none"})}))},sendPhone:function(){var t=this;if("发送验证码"!=this.codeMsg)uni.showToast({title:"请稍后再发送验证码",icon:"none"});else if((0,a.regExpTel)(this.phone))if(this.imgCode){var n={userPhone:this.phone,modelType:100,captcha:this.imgCode,timeFlag:this.timeFlag};o.default.sendPost("/sms/sendCaptchaSms",n).then((function(n){if(console.log(n),0==n.data.code){t.disabled=!0;var e=60;console.log(e);var i=setInterval((function(){e<=1?(t.codeMsg="发送验证码",t.disabled=!1,clearInterval(i)):(console.log(t.codeMsg),e--,t.codeMsg=e+"s后重新发送")}),1e3)}else uni.showToast({title:n.data.message,icon:"none"})}))}else uni.showToast({title:"请输入图形验证码",icon:"none"});else uni.showToast({title:"请输入正确的手机号码",icon:"none"})},getreg:function(){if(uni.showLoading({title:"加载中"}),!(0,a.regExpTel)(this.phone))return uni.showToast({title:"请输入正确的手机号",icon:"none"}),!1;if(!this.imgCode)return uni.showToast({title:"请输入图形验证码",icon:"none"}),!1;if(!this.code)return uni.showToast({title:"请输入短信验证码",icon:"none"}),!1;if(!this.password)return uni.showToast({title:"请输入密码",icon:"none"}),!1;if(!this.passwords)return uni.showToast({title:"请再次输入密码",icon:"none"}),!1;if(this.password!=this.passwords)return uni.showToast({title:"两次输入密码不一致",icon:"none"}),!1;var t=this.yqmvalue;void 0!=t&&"undefined"!=t||(t="");var n={phone:this.phone,captcha:this.imgCode,timeFlag:"",regFrom:50,mobileCaptcha:this.code,inviteCode:t,channel:"小米",fromId:2,logonPasswd:this.password};o.default.sendPost("/appLogin/phoneReg",n).then((function(t){console.log(t),0==t.data.code&&(uni.showToast({title:t.data.message,icon:"success"}),uni.navigateTo({url:"/pages/login"}))})).catch((function(t){uni.showToast({title:"请求失败",icon:"none"})}))},change:function(t){this.btnnum=t},linkforget:function(){uni.navigateTo({url:"/pages/index/forget"})}}};n.default=s},e413:function(t,n,e){"use strict";var i=e("9151"),a=e.n(i);a.a}}]);