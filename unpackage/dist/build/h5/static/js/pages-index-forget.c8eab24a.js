(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-forget"],{"035f":function(t,e,n){"use strict";n.r(e);var i=n("bbf8"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},2188:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"page"},[n("v-uni-view",{staticClass:"uni-form-item uni-column"},[n("v-uni-view",{staticClass:"title"},[n("i",{staticClass:"iconfont icon-shouji"}),t._v("手机号")]),n("v-uni-input",{staticClass:"uni-input",attrs:{maxlength:"11",type:"number",placeholder:"请输入手机号"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),n("v-uni-view",{staticClass:"uni-form-item uni-column",staticStyle:{position:"relative"}},[n("v-uni-view",{staticClass:"title"},[n("i",{staticClass:"iconfont  icon-mima"}),t._v("验证码")]),n("v-uni-input",{attrs:{type:"text",maxlength:"4",placeholder:"请输入图片验证码"},model:{value:t.imgCode,callback:function(e){t.imgCode=e},expression:"imgCode"}}),n("v-uni-view",{staticClass:"justify-end yzhmbtn"},[n("v-uni-image",{staticStyle:{width:"80px"},attrs:{src:t.imgCodeSrc,mode:"aspectFit"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getImgPath()}}})],1)],1),n("v-uni-view",{staticClass:"uni-form-item uni-column",staticStyle:{position:"relative"}},[n("v-uni-view",{staticClass:"title"},[n("i",{staticClass:"iconfont icon-mima"}),t._v("验证码")]),n("v-uni-input",{staticClass:"uni-input",attrs:{maxlength:"11",disabled:t.disabled,type:"number",placeholder:"请输入短信验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),n("v-uni-button",{staticClass:"yzhmbtn",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendPhone.apply(void 0,arguments)}}},[t._v(t._s(t.codeMsg))])],1),n("v-uni-view",{staticClass:"uni-form-item uni-column"},[n("v-uni-view",{staticClass:"title"},[n("i",{staticClass:"iconfont icon-mima"}),t._v("新密码")]),n("v-uni-input",{staticClass:"uni-input",attrs:{type:"password",placeholder:"请输入新密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("v-uni-button",{staticClass:"uni-buttonlogin",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getdata.apply(void 0,arguments)}}},[t._v("提交")])],1)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},4500:function(t,e,n){"use strict";function i(t,e){if(0===arguments.length)return null;var n,i=e||"{y}-{m}-{d}";"object"===typeof t?n=t:("string"===typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"===typeof t&&10===t.toString().length&&(t*=1e3),n=new Date(t));var a={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()},o=i.replace(/{(y|m|d|h|i|s|a)+}/g,(function(t,e){var n=a[e];return"a"===e?["日","一","二","三","四","五","六"][n]:(t.length>0&&n<10&&(n="0"+n),n||0)}));return o}function a(t,e){t=10===(""+t).length?1e3*parseInt(t):+t;var n=new Date(t),a=Date.now(),o=(a-n)/1e3;return o<30?"刚刚":o<3600?Math.ceil(o/60)+"分钟前":o<86400?Math.ceil(o/3600)+"小时前":o<172800?"1天前":e?i(t,e):n.getMonth()+1+"月"+n.getDate()+"日"+n.getHours()+"时"+n.getMinutes()+"分"}function o(t){var e=new RegExp(/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/);return e.test(t)}n("d3b7"),n("e25e"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.parseTime=i,e.formatTime=a,e.regExpTel=o},"5fe2":function(t,e,n){n("c975"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("1276");var i="http://114.116.73.182:8080",a="http://114.116.73.182:8082";function o(t,e){return t=i+t,e.token=uni.getStorageSync("token"),new Promise((function(n,i){uni.request({url:t,method:"POST",data:e,header:{"content-type":"application/x-www-form-urlencoded"},dataType:"json",success:function(t){-1==t.data.code?uni.showToast({title:t.data.message,icon:"none",duration:2e3}):-2==t.data.code?(uni.showToast({title:"请先登录",icon:"none"}),setTimeout((function(){uni.hideToast(),s("/pages/login")}),1500)):n(t)},fail:function(t){i(t)}})}))}function s(t){console.log(t),0==t.indexOf("http")?uni.navigateTo({url:"/pages/outPage/outPage?url="+t}):t.indexOf("order")>=0?uni.switchTab({url:t}):(console.log(t),uni.navigateTo({url:t}))}function r(t,e){if(null!=t&&t.length>0){var n=-1,i=t.split(" ")[0].split("-"),a=t.split(" ")[1].split(":"),o=new Date(i[0],i[1]-1,i[2],a[0],a[1],a[2]);e||(e=new Date);var s="0",r="0",c="0",l="0",u="",d=null==n||0==n?e.getTime()-o.getTime():o.getTime()-e.getTime();return d>=864e5&&(s=Math.floor(d/864e5),d-=24*s*60*60*1e3),u+=s>0?s+"天":"",d>=36e5&&(r=Math.floor(d/36e5),d-=60*r*60*1e3),u+=r>0?r+"时":"",d>=6e4&&(c=Math.floor(d/6e4),d-=60*c*1e3),u+=c>0?c+"分":"",d>=1e3&&(l=Math.floor(d/1e3),d-=1e3*l),u+=l>0?l+"秒":"",null==n||0==n?u:null!=u&&u.length>0?u:"已超时"}}function c(t,e){uni.removeTabBarBadge({index:t}),uni.setTabBarBadge({index:t,text:e})}t.exports.check={mobile:function(t){return RegExp(/^1[34578]\d{9}$/).test(t)}},t.exports={baseUrl:i,webbaseUrl:a,sendPost:o,navigateToPath:s,showTimeSale:r,setTabBarBadge:c}},6377:function(t,e,n){"use strict";n.r(e);var i=n("2188"),a=n("035f");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("b5b3");var s,r=n("f0c5"),c=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"5066c6ef",null,!1,i["a"],s);e["default"]=c.exports},7658:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-image[data-v-5066c6ef]{height:30px}.example-body[data-v-5066c6ef]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.page[data-v-5066c6ef]{width:90%;margin:10px auto}.uni-badge-left-margin[data-v-5066c6ef]{margin-left:%?20?%}.title[data-v-5066c6ef]{height:40px;line-height:40px;font-size:16px;font-weight:700;color:#666}.page .logo[data-v-5066c6ef]{width:100%;text-align:center}.page .logo img[data-v-5066c6ef]{margin:10px auto;width:30%;border-radius:10px;box-shadow:0 2px 5px 0 #f80}uni-button[data-v-5066c6ef]{margin-top:30px;font-size:16px;line-height:40px}\r\n/* 将三个内容view的display设置为none(隐藏) */.end-title[data-v-5066c6ef]{display:-webkit-box;display:-webkit-flex;display:flex;margin-top:30px;height:40px;line-height:40px}.end-title uni-view[data-v-5066c6ef]{-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;text-align:center;background:#f8f8f8}.end-cont[data-v-5066c6ef]{display:none}.end-title uni-view.btna[data-v-5066c6ef]{color:#fff;background:#00a0ff}.dis[data-v-5066c6ef]{display:block;margin-top:20px}',""]),t.exports=e},b5b3:function(t,e,n){"use strict";var i=n("c841"),a=n.n(i);a.a},bbf8:function(t,e,n){"use strict";var i=n("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("4500"),o=i(n("5fe2")),s={components:{},data:function(){return{phone:"",password:"",imgCode:"",imgCodeSrc:"",disabled:!1,timeFlag:"",code:"",yqmvalue:"",uservalue:"",btnnum:0,codeMsg:"发送验证码"}},onLoad:function(){this.getImgPath()},methods:{getImgPath:function(){var t=this;o.default.sendPost("/getCaptcha",{}).then((function(e){console.log(e),0==e.data.code&&(t.imgCodeSrc=e.data.data.image,t.timeFlag=e.data.data.time)}))},getdata:function(){if(uni.showLoading({title:"加载中"}),!(0,a.regExpTel)(this.phone))return uni.showToast({title:"请输入正确的手机号",icon:"none"}),!1;if(!this.imgCode)return uni.showToast({title:"请输入图形验证码",icon:"none"}),!1;if(!this.code)return uni.showToast({title:"请输入短信验证码",icon:"none"}),!1;if(!this.password)return uni.showToast({title:"请输入新密码",icon:"none"}),!1;var t={phone:this.phone,captcha:this.imgCode,timeFlag:this.timeFlag,mobileCaptcha:this.code,regFrom:50,version:"1.0.0",channel:"小米",fromId:2,reLogonPasswd:this.password,logonPasswd:this.password};o.default.sendPost("/appUser/updatePwd",t).then((function(t){console.log(t),0==t.data.code&&(uni.showToast({title:t.data.message,icon:"success"}),uni.navigateTo({url:"/pages/login"}))})).catch((function(t){uni.showToast({title:"请求失败",icon:"none"})}))},sendPhone:function(){var t=this;if("发送验证码"!=this.codeMsg)uni.showToast({title:"请稍后再发送验证码",icon:"none"});else if((0,a.regExpTel)(this.phone))if(this.imgCode){t.disabled=!0;var e=60;console.log(e);var n=setInterval((function(){e<=1?(t.codeMsg="发送验证码",t.disabled=!1,clearInterval(n)):(console.log(t.codeMsg),e--,t.codeMsg=e+"s后重新发送")}),1e3);this.phone,this.imgCode,this.timeFlag}else uni.showToast({title:"请输入图形验证码",icon:"none"});else uni.showToast({title:"请输入正确的手机号码",icon:"none"})},change:function(t){this.btnnum=t,console.log(this.btnnum)}}};e.default=s},c841:function(t,e,n){var i=n("7658");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("080ff4cc",i,!0,{sourceMap:!1,shadowMode:!1})}}]);